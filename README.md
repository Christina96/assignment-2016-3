# Μουσικοί Ρυθμοί

Σκεφτείτε το ακόλουθο πρόβλημα. Θέλετε να φτιάξετε μια δυαδική σειρά των n bits, από τα οποία τα k είναι 1 (και τα υπόλοιπα φυσικά 0). Θέλετε επιπλέον στη σειρά αυτή τα 1 να είναι όσο το δυνατόν πιο ισοκατανεμημένα ανάμεσα στα 1. Αν το k διαιρεί ακριβώς το n, τότε η λύση είναι προφανής: για παράδειγμα, για n = 16 και k = 4 έχουμε τη σειρά:
```
[1 0 0 0 1 0 0 0 1 0 0 0 1 0 0 0]
``` 
Το πρόβλημα αποκτά ενδιαφέρον όταν τα n και k είναι πρώτοι αριθμοί μεταξύ τους, δηλαδή όταν οι n και n έχουν μόνο το 1 ως κοινό διαιρέτη.

Έστω λοιπόν ότι έχουμε n = 13 και k = 5. Αφού 13 - 5 = 8, ξεκινάμε φτιάχνοντας μια ακολουθία με 5 άσους και 8 μηδενικά:
```
[ 1 1 1 1 1 0 0 0 0 0 0 0 0]
```
Αυτή την ακολουθία μπορούμε να την εκλάβουμε και ως 13 ακολουθίες που η κάθε μία περιέχει 1 bit:
```
[ [1] [1] [1] [1] [1] [0] [0] [0] [0] [0] [0] [0] [0] ]
```
Μοιράζουμε τα μηδενικά ώστε να προκύψουν 5 ακολουθίες των 2 bits η κάθε μία, και 3 ακολουθίες του 1 bit:
```
[ [1 0] [1 0] [1 0] [1 0] [1 0] [0] [0] [0] ]
```
Στη συνέχεια μοιράζουμε πάλι τα εναπομείναντα μηδενικά με τον ίδιο τρόπο, οπότε παίρνουμε:
```
[ [1 0 0] [1 0 0] [1 0 0] [1 0] [1 0] ]
```
Τώρα μοιράζουμε τις ακολουθίες `[1 0]`, οπότε παίρνουμε:
```
[ [1 0 0 1 0] [1 0 0 1 0] [1 0 0] ]
```
Η διαδικακασία τελειώνει ότι το υπόλοιπο (δηλαδή οι ακολουθίες με τον μικρότερο αριθμό bits) είναι ακριβώς 1, ή αν δεν έχουμε άλλα 0 να μοιράσουμε. Τότε ενώνουμε το αποτέλεσμα. Στο παράδειγμά μας έχουμε:
```
[ 1 0 0 1 0 1 0 0 1 0 1 0 0 ]
```

Αν θεωρήσουμε ότι η παραπάνω ακολουθία είναι ένας ρυθμός, όπου το `1` είναι το ισχυρό μέρος του ρυθμού και `0` το ασθενές, τότε με τη διαδικασία αυτή, για διαφορετικά n και k προκύπτει ένα πλήθος ρυθμών που χρησιμοποιούνται στην παγκόσμια μουσική. Δύο παραδείγματα:

* Ο ρυθμός με k = 3 και n = 7 `[ 1 0 1 0 1 0 0 ]` είναι ο ρυθμός Ruchenitza που χρησιμοποιείται στη Βουλγάρικη λαϊκή μουσική και επίσης το ρυθμικό μοτίβο του τραγουδιού Money των Pink Floyd.
* O ρυθμός με k = 5 και n = 9 `[ 1 0 1 0 1 0 1 0 1 ]` είναι ένας δημοφιλής αραβικός ρυθμός ονόματι Agsag-Samai. Αν ξεκινήσει στο δεύτερο χτύπημα, είναι το μοτίβο των τυμπάνων που χρησιμοποιείται από τους Venda στη Νότια Αφρική, όπως επίσης και από έναν ρουμάνικο λαϊκό χορό. Ακόμα, είναι το ρυθμικό μοτίβο του ελληνικού Σιγάκτιστου [αν κάποιος ξέρει τι είναι αυτός ο χορός παρακαλώ να ενημερώσει τον διδάσκοντα ] και του τουρκικού Samai aktsak. Αν αρχίσει στο τρίτο χτύπημα είναι το ρυθμικό μοτίβο του τουρκικού ρυθμού Nawahiid.

## Ευκλείδιοι Ρυθμοί και Ευκλείδιες Συμβολοσειρές

Ο τρόπος που περιγράψαμε, και με τον οποίο παράγονται οι ρυθμοί αυτοί για διαφορετικά n και k ακολουθεί τα αποτελέσματα του αλγόριθμου του Ευκλείδη για την εύρεση του Μέγιστου Κοινού Διαιρέτη μεταξύ δύο αριθμών. Πραγματικά, αν `euclid` είναι η υλοποίηση του αλγορίθμου, θα είχαμε `euclid(8,5) = euclid(5,3) = euclid(3,2) = euclid(2,1) = euclid(1,0) = 1`, που αν προσέξετε αντιστοιχεί στα βήματα που κάναμε. Για το λόγο αυτό οι ρυθμοί αυτοί ονομάζονται *Ευκλείδιοι Ρυθμοί*.

Έναν Ευκλείδιο Ρυθμό τον γράφουμε με τη μορφή E(k, n) όπου k ο αριθμός των παλμών και n το μήκος του ρυθμού, για παράδειγμα Ε(5, 9). Μπορούμε να τον γράψουμε και με έναν άλλο τρόπο, σύμφωνα με τον οποίο μετράμε τα διαστήματα μέχρι το επόμενο χτύπημα, οπότε έχουμε E(5, 9) = (22221), αφού περνούν δύο χρόνοι μεταξύ του πρώτου και του δεύτερου χτυπήματος κ.λπ. Ένας άλλος ρυθμός είναι ο Ε(5, 12), ο οποίος αντιστοιχεί στο `[ 1 0 0 1 0 1 0 0 1 0 1 0 ]` και αναγράφεται και (32322), όπως μπορείτε να ελέγξετε. Ο δεύτερος τρόπος γραφής ονομάζεται *διάνυσμα διαστημάτων* και στην ουσία είναι μια συμβολοσειρά ακέραιων αριθμών. 

Αν έχουμε ένα ρυθμό γραμμένο σε μορφή διανύσματος διαστημάτων, έστω τον `P = (p[0], p[1] , ... , p[n−1])` τότε αν αυξήσουμε το `p[0]` κατά 1 και μειώσουμε το `p[n-1]` κατά ένα, θα προκύψει ένα νέο διάνυσμα διαστημάτων. Αν το νέο διάνυσμα μπορεί να προκύψει περιστρέφοντας το πρώτο, τότε λέμε ότι έχουμε μια *Ευκλείδια Συμβολοσειρά*. Για παράδειγμα, Ε(4, 9) = [1 0 1 0 1 0 1 0 0 ] = (2223). Αυξάνοντας το πρώτο ψηφίου και μειώνοντας το τελευταίο παίρνουμε (3222), που προκύπτει από περιστροφή της πρώτης συμβολοσειράς, άρα ο ρυθμός, πέρα από Ευκλείδιος, είναι και Ευκλείδια Συμβολοσειρά.

Αν πάρουμε την αντίστροφη συμβολοσειρά ενός διανυσμάτος διαστημάτων, δηλαδή τη διαβάσουμε από το τέλος προς την αρχή, και αυτή η αντίστροφη είναι Ευκλείδια Συμβολοσειρά, τότε λέμε ότι έχουμε *Αντίστροφη Ευκλείδια Συμβολοσειρά*. ΓΙια παράδειγμα, Ε(4, 11) = [ 1 0 0 1 0 0 1 0 0 1 0] = (3332). Η αντίστροφη συμβολοσειρά του διανύσματος διαστημάτων είναι η (2223) η οποία είναι Ευκλείδια Συμβολειρά, άρα η αρχική είναι Αντίστροφη Ευκλείδια Συμβολοσειρά.

## Απόσταση Μεταξύ Ρυθμών

```python
def hamming_distance(s1, s2):
    if len(s1) != len(s2):
        raise ValueError("Undefined for sequences of unequal length")
    return sum(bool(ord(ch1) - ord(ch2)) for ch1, ch2 in zip(s1, s2))
```

## Απαιτήσεις Προγράμματος

Κάθε φοιτητής θα εργαστεί στο προσωπικό του αποθετήριο στο GitHub. Για να αξιολογηθεί μια εργασία θα πρέπει να πληροί τις παρακάτω προϋποθέσεις:

1. Όλη η εργασία θα πρέπει να βρίσκεται σε έναν κατάλογο `assignment-2016-3` μέσα στο αποθετήριο του φοιτητή.
2. Το πρόγραμμα θα πρέπει να έχει όνομα `musical_rythms.py`.
3. Εννοείται ότι δεν επιτρέπεται η χρήση έτοιμων βιβλιοθηκών γράφων ή τυχόν έτοιμων υλοποιήσεων των αλγορίθμων, ή τμημάτων αυτών.
4. Το πρόγραμμα θα διαβάζει το λεξικό ρυθμών που βρίσκεται στο αρχείο `musical_rythms.json`, το οποίο θα είναι αποθηκευμένο στον ίδιο κατάλογο με τον κατάλογο του προγράμματος. 
5. Το πρόγραμμα θα μπορεί να καλείται ως εξής:
```
python musical_rythms.py [-s SLOTS] [-p PULSES] [-r RECOGNIZE]
```

* Αν δίνονται οι παράμετροι `-s SLOTS` και `-p PULSES`, τότε τα `SLOTS` και `PULSES` θα είναι ακέραιοι. Το πρόγραμμα θα υπολογίζει το ρυθμό που αντιστοιχεί στις παραμέτρους αυτούς. Θα τον αναζητά στο λεξικό των γνωστών ρυθμών. Αν τον βρει εκεί, θα εκτυπώνει σε μία γραμμή τα στοιχεία που βρίσκει για τον ρυθμό. Αν όχι, θα τυπώνει απλώς τον ρυθμό. Στην επόμενη γραμμή, αν ο ρυθμός αντιστοιχεί σε Ευκλείδια συμβολοσειρά θα εκτυπώνει μήνυμα του τύπου:
```
It is the Euclidean string 2223
```
Προφανώς, το `2223` είναι ενδεικτικό, σε κάθε είσοδο θα εκτυπώνεται η αντίστοιχη συμβολοσειρά, αν υπάρχει.
Αλλιώς, αν δεν είναι Ευκλείδια συμβολοσειρά, θα εκτυπώνει το μήνυμα:
```
It is not a Euclidean string
```
